<ng-container *ngIf="languageAndProvinceChangeVisible$ | async">
    <div class="province-bar">
        <div class="content-container header-bar">
            <div class="row align-center">
                <div class="column small-10 medium-8 align-left">
                    <span data-e2e="currentProvince">
                        {{ "DeCareUseCasesSharedUiHeaderBarModule.HeaderBarComponent.SELECT_PROVINCE_LABEL" | translate }} {{ selectedProvinceLabel$ | async | titlecase }}
                    </span>
                </div>
                <div class="column small-2 medium-2 align-right">
                    <button *ngIf="!(provinceSelectionDisabled$ | async)" class="text-link" type="button" (click)="editButtonClicked()" data-e2e="provinceChangeEditButton">
                        <strong>{{ "DeCareUseCasesSharedUiHeaderBarModule.HeaderBarComponent.EDIT_PROVINCE" | translate }}</strong>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <sxm-ui-modal
        [closed]="!locationToggleModalOpen"
        title="{{ 'DeCareUseCasesSharedUiHeaderBarModule.HeaderBarComponent.PROVINCE_SELECTOR_MODAL_TITLE' | translate }}"
        [titlePresent]="true"
        (modalClosed)="onModalClosed()"
    >
        <de-care-province-selector
            #provinceSelector
            [selectedProvince]="selectedProvince"
            [provinces]="provinces"
            (userChangedProvince)="onUserChangedProvince($event)"
            (ipLocationNotFound)="locationToggleModalOpen = true"
        ></de-care-province-selector>
    </sxm-ui-modal>
</ng-container>

<div class="content-container header-bar logo-bar">
    <div class="row align-center">
        <div class="column small-6 medium-5 align-left no-padding-medium">
            <de-care-logo-link [imageSrc]="logoData.imageSrc" [link]="logoData.link" [altText]="logoData.altText"></de-care-logo-link>
        </div>
        <div class="column small-6 medium-5 align-right">
            <ng-content></ng-content>
            <button
                #languageButton
                *ngIf="languageAndProvinceChangeAllowed$ | async"
                [value]="'DeCareUseCasesSharedUiHeaderBarModule.HeaderBarComponent.SWITCH_LANGUAGE.VALUE' | translate"
                (click)="languageSelected.emit(languageButton.value)"
                type="button"
                data-e2e="toggleLanguage"
            >
                <strong data-e2e="languageLabel">{{ "DeCareUseCasesSharedUiHeaderBarModule.HeaderBarComponent.SWITCH_LANGUAGE.LABEL" | translate }}</strong>
            </button>
        </div>
    </div>
</div>
