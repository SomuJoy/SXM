<h4>{{ translateKeyPrefix + ".TITLE" | translate }}</h4>
<br />
<p>{{ translateKeyPrefix + ".SUB_TITLE" | translate }}</p>
<br />
<form [formGroup]="passwordForm" novalidate>
    <div *ngIf="showBusinessError$ | async" class="invalid-feedback">
        <p>{{ translateKeyPrefix + ".UPDATE_FAIL_ERROR" | translate }}</p>
    </div>
    <sxm-ui-password-strength
        formControlName="password"
        [labelText]="translateKeyPrefix + '.LABEL_TEXT' | translate"
        [alwaysDisplayPasswordHint]="alwaysDisplayPasswordHint"
        [class.invalid]="passwordForm.controls.password | formControlInvalid: submitted"
        id="{{ passwordElementId }}"
        [reservedWords]="reservedWords"
        [alwaysDisplayPasswordHint]="alwaysDisplayPasswordHint"
        #passwordControl
    ></sxm-ui-password-strength>
    <div *ngIf="passwordForm.controls.password | formControlInvalid: submitted" class="invalid-feedback">
        <p *ngIf="passwordForm.controls.password.hasError('required')">
            {{ translateKeyPrefix + ".ERRORS.REQUIRED" | translate }}
        </p>
        <p *ngIf="passwordForm.controls.password.hasError('length')">
            {{ translateKeyPrefix + ".ERRORS.LENGTH" | translate: passwordForm.controls.password.errors.length }}
        </p>
        <p *ngIf="passwordForm.controls.password.hasError('policy')">
            {{ translateKeyPrefix + ".ERRORS.POLICY" | translate }}
        </p>
        <p *ngIf="passwordForm.controls.password.hasError('generic')">
            {{ translateKeyPrefix + ".ERRORS.GENERIC" | translate }}
        </p>
        <p *ngIf="passwordForm.controls.password.errors?.reservedWords as reservedWordsError">
            {{
                translateKeyPrefix + ".ERRORS.RESERVED_WORDS"
                    | translate
                        : {
                              pluralWord: reservedWordsError.words.length | i18nPlural: (translateKeyPrefix + ".PLURAL_MAP.WORD" | translate),
                              reservedWords: reservedWordsError.words.join(", ")
                          }
            }}
        </p>
    </div>
    <button
        [loading]="processing$ | async"
        type="submit"
        (click)="onSubmit()"
        sxm-proceed-button
        data-link-name="CONTINUE"
        sxmUiDataClickTrack="submit"
        data-e2e="CreateCredentialsFormSubmitButton"
    >
        {{ translateKeyPrefix + ".BUTTON_TEXT" | translate }}
    </button>
    <br />
    <de-streaming-onboarding-privacy-policy></de-streaming-onboarding-privacy-policy>
</form>
