<h4>{{ translateKeyPrefix + "FORM_HEADLINE_CREDENTIALS" | translate }}</h4>
<br />
<p>{{ translateKeyPrefix + "FORM_INSTRUCTIONS_CREDENTIALS" | translate }}</p>
<br />
<form [formGroup]="form" data-e2e="registration.credentialsForm">
    <div *ngIf="showSystemError" class="invalid-feedback">
        <p>{{ translateKeyPrefix + "SYSTEM_ERROR" | translate }}</p>
    </div>

    <div class="row no-padding">
        <div class="column small-12 no-padding align-left">
            <sxm-ui-text-form-field
                formControlName="username"
                [labelText]="translateKeyPrefix + 'USERNAME.LABEL' | translate"
                [errorMsg]="translateKeyPrefix + 'USERNAME.ERRORS.REQUIRED' | translate"
                data-e2e="username"
                (keyup)="keyup()"
            >
            </sxm-ui-text-form-field>

            <div *ngIf="showExistingError" class="invalid-feedback">
                <p>
                    {{ translateKeyPrefix + "USERNAME.ERRORS.ALREADY_EXIST" | translate }}
                    <a [href]="" target="_blank" style="color: #eb0a0a" sxmUiDataClickTrack="player">{{ translateKeyPrefix + "LINK_TEXT" | translate }}</a>
                </p>
            </div>
        </div>
    </div>
    <sxm-ui-password-strength
        formControlName="password"
        [labelText]="translateKeyPrefix + 'PASSWORD.LABEL' | translate"
        id="{{ passwordElementId }}"
        [reservedWords]="reservedWords"
        [alwaysDisplayPasswordHint]="alwaysDisplayPasswordHint"
        [class.invalid]="form.controls.password | formControlInvalid: submitted"
        (keyup)="keyup()"
        data-e2e="password"
    >
    </sxm-ui-password-strength>
    <div *ngIf="form.controls.password | formControlInvalid: submitted" class="invalid-feedback">
        <p *ngIf="form.controls.password.hasError('required')">
            {{ translateKeyPrefix + "PASSWORD.ERRORS.REQUIRED" | translate }}
        </p>
        <p *ngIf="form.controls.password.hasError('length')">
            {{ translateKeyPrefix + "PASSWORD.ERRORS.GENERIC" | translate: form.controls.password.errors.length }}
        </p>
        <p *ngIf="form.controls.password.hasError('policy')">
            {{ translateKeyPrefix + "PASSWORD.ERRORS.GENERIC" | translate }}
        </p>
        <p *ngIf="form.controls.password.hasError('generic')">
            {{ translateKeyPrefix + "PASSWORD.ERRORS.GENERIC" | translate }}
        </p>
        <p *ngIf="form.controls.password.errors?.reservedWords as reservedWordsError">
            {{
                translateKeyPrefix + "PASSWORD.ERRORS.RESERVED_WORDS"
                    | translate
                        : {
                              pluralWord: reservedWordsError.words.length | i18nPlural: (translateKeyPrefix + "PLURAL_MAP.WORD" | translate),
                              reservedWords: reservedWordsError.words.join(", ")
                          }
            }}
        </p>
    </div>
    <ng-content select="[privacyPolicy]"></ng-content>
    <button
        type="button"
        (click)="onSubmit()"
        sxm-proceed-button
        [loading]="processing$ | async"
        (mouseenter)="mouseEnterOnContinueButton()"
        (mouseleave)="mouseLeaveOnContinueButton()"
        sxmUiDataClickTrack="submit"
        data-e2e="RegistrationCredentialsSubmitButton"
    >
        {{ translateKeyPrefix + "CONTINUE_BUTTON_TEXT" | translate }}
    </button>
</form>
