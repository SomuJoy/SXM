<ng-container *ngIf="loginComplete; else defaultPresentment">
    <ng-content select="[loginCompletedPresentment]"> </ng-content>
</ng-container>

<ng-template #defaultPresentment>
    <ng-content select="[loginFormHeader]"> </ng-content>
    <form (ngSubmit)="onSubmitClick()" [formGroup]="form">
        <div *ngIf="showSubmissionError" class="submission-error invalid-feedback">
            <p>{{ translateKeyPrefix + "SUBMISSION_ERROR" | translate }}</p>
        </div>
        <login-credentials-email-as-username-form
            [isMouseInSubmitButtonZone]="isMouseInSubmitButtonZone$ | async"
            [clickedSubmitButton]="clickedSubmitButton$ | async"
            [submitted]="submitted"
            formControlName="credentials"
            [form]="form"
        ></login-credentials-email-as-username-form>
        <div *ngIf="!hidePrivacyPolicyLink">
            <privacy-policy></privacy-policy>
        </div>
        <button
            (mouseenter)="isMouseInSubmitButtonZone$.next('ENTERED')"
            (mouseleave)="isMouseInSubmitButtonZone$.next('LEFT')"
            type="submit"
            sxm-proceed-button
            [loading]="loading$ | async"
            data-e2e="setupLoginCredentials.submitButton"
        >
            {{ submitButtonTextOverride || translateKeyPrefix + "BUTTON_TEXT" | translate }}
        </button>
    </form>
</ng-template>
