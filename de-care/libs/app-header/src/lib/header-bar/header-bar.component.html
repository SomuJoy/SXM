<ng-container *ngIf="languageAndProvinceChangeVisible$ | async">
    <div class="province-bar">
        <div class="content-container header-bar">
            <div class="row align-center">
                <div class="column small-10 medium-8 align-left">
                    <span data-e2e="currentProvince"> {{ "appHeader.headerBarComponent.SELECT_PROVINCE_LABEL" | translate }} {{ selectedProvinceLabel | titlecase }} </span>
                </div>
                <div class="column small-2 medium-2 align-right">
                    <button
                        *ngIf="!(userSettingsService.provinceSelectionDisabled$ | async)"
                        class="text-link"
                        type="button"
                        (click)="editButtonClicked()"
                        data-e2e="provinceChangeEditButton"
                    >
                        <strong>{{ "appHeader.headerBarComponent.EDIT_PROVINCE" | translate }}</strong>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <sxm-ui-modal
        [closed]="!locationToggleModalOpen"
        [ariaDescribedbyTextId]="headerBarModalAriaDescribedbyTextId"
        title="{{ 'appHeader.headerBarComponent.PROVINCE_SELECTOR_MODAL_TITLE' | translate }}"
        [titlePresent]="true"
        (modalClosed)="onModalClosed()"
    >
        <province-selector
        [ariaDescribedbyTextId]="headerBarModalAriaDescribedbyTextId"
            #provinceSelector
            [selectedProvince]="selectedProvince"
            (userChangedProvince)="onUserChangedProvince()"
            (provinceSelected)="onSelectProvince($event)"
            (ipLocationNotFound)="locationToggleModalOpen = true"
        ></province-selector>
    </sxm-ui-modal>
</ng-container>

<div class="content-container header-bar logo-bar">
    <div class="row align-center">
        <div class="column small-6 medium-5 align-left no-padding-medium">
            <a *ngIf="logoData" [href]="logoData.url" class="no-decoration" target="_self">
                <img [src]="logoData.imageSrcUrl" alt="SiriusXM" class="sxm-nav-logo" />
            </a>
        </div>
        <div class="column small-6 medium-5 align-right">
            <button
                #languageButton
                *ngIf="languageAndProvinceChangeAllowed"
                [value]="'appHeader.headerBarComponent.SWITCH_LANGUAGE.VALUE' | translate"
                (click)="languageSelected.emit(languageButton.value)"
                type="button"
                data-e2e="toggleLanguage"
            >
                <strong data-e2e="languageLabel">{{ "appHeader.headerBarComponent.SWITCH_LANGUAGE.LABEL" | translate }}</strong>
            </button>
        </div>
    </div>
</div>
